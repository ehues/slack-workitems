{
  "name": "slackr-bot",
  "version": "0.0.2",
  "description": "API for using the slack RTM interface",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [
    "slack",
    "slack bot"
  ],
  "repository": {
    "type": "git",
    "url": "git://github.com/tal/slackr-bot.git"
  },
  "author": {
    "name": "Tal Atlas",
    "email": "me@tal.by",
    "url": "http://tal.by/"
  },
  "license": "MIT",
  "dependencies": {
    "node-slackr": "0.0.4",
    "lodash": "^2.4.1",
    "request": "^2.47.0",
    "ws": "^0.6.3"
  },
  "readme": "# Slackr Bot\n\nA node module for making bots that use the [slack rtm api](https://api.slack.com/rtm).\n\n## Initializing\n\nThe object you require is a session, to create a session all you need is a bot token, or a user token if the\nbot will be acting as that user.\n\n```js\nvar Session = require('slackr-bot');\n\nvar session = new Session(token);\n```\n\nUnfortunately bot's currently cannot send attachments, so built in is the ability to use an incoming webhook to\nsend then automatically. You just have to configure it:\n\n```js\nvar session = new Session({\n  token: token,\n  devChannel: '#bottest',\n  webhookClient: {\n    token: 'xxxxxxxxxxxxxxxxxxxx',\n    team: 'tumblr',\n    username: 'ghbot',\n    icon_url: 'http://michaelsharman.com/static/images/github_metro.png'\n  }\n});\n```\n\nAll the data in the webhook client can be used but the only required ones are token and team.\n\nThe other option seen in this session instantiation is the dev channel. With this the bot will ignore anything in\nthat channel unless `NODE_ENV=development` is set. In which case it will only listen to that channel.\n\n### send\n\nTo send a message over rtm just call `session.send(obj)`. If you want to send a message there's a helper that allows\nyou to call\n\n```js\nsession.sendMessage({\n  channel: '#foo',\n  text: 'omg'\n});\n```\n\n## Responding\n\nTo react to messages there are some helper matchers to let you match only certain strings being passed.\n\n```js\nsession.on('exact string match', cb);\nsession.on('.prefix *', cb);\nsession.on('*wildcard*', cb);\nsession.on(/regex/i, cb);\nsession.on('/regex string/i', cb);\n```\n\n### Exact string match\n\nThe callback receives these arguments:\n\n1. [Message](#message) - message object see section describing\n2. string - the matched string\n\n### Prefix match\n\nThe callback receives these arguments:\n\n1. [Message](#message) - message object see section describing\n2. prefix - the prefix it matched on\n3. rest - the string that comes after the prfix\n\n`arguments[2] + arguments[3] === message.text`\n\n### Wildcard match\n\nThe callback receives these arguments:\n\n1. [Message](#message) - message object see section describing\n2. string - the matched string\n\n\n### Regex match\n\nThe callback receives these arguments:\n\n1. [Message](#message) - message object see section describing\n2. match - the match object that came back from the successufl regex match\n\n## Message\n\nThe message object is passed to message callbacks. It has all the data passed in the message, as well as some helpers.\n\nSimple usage:\n\n```js\nsession.on('.gh help', function(msg) {\n  msg.reply('.gh team( <team name>)( cnt), .gh <user> recent( cnt)');\n});\n```\n\nThe message has a reply method that can be used. It can take a string or an object like shown in the advanced object\n\nAdvanced usage\n\n```js\nsession.on(/^.gh (\\w+) recent(?: (\\d+))?/, function(message, match) {\n  var promise = getPersonsPr(match[1]);\n\n  message.typing();\n\n  var num = match[2] ? parseInt(match[2]) : 3;\n\n  promise.then(function(prs) {\n    var resp = {\n      text: 'Pull Requests:'\n      attachments: _(prs).first(num).map('attachment').value()\n    };\n\n    message.reply(resp);\n  });\n});\n```\n\nThis shows many features of the response\n\n1. you can call inside of another callback to reply\n2. you can reply with advanced objects that contain [attachments](https://api.slack.com/docs/attachments)\n3. you can signal in these async actions a typing indicator\n\n## Todo\n\n- [ ] Tests\n- [ ] Update channels as new ones are created\n- [ ] Implement connection checking to add ability to reconnect dynamically\n\n## Contributing\n\n1. Fork it\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Added some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create new Pull Request\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/tal/slackr-bot/issues"
  },
  "_id": "slackr-bot@0.0.2",
  "dist": {
    "shasum": "a7ef9d5670bafe2fd5ab7c31eab4a9dd92f3070a"
  },
  "_from": "slackr-bot@",
  "_resolved": "https://registry.npmjs.org/slackr-bot/-/slackr-bot-0.0.2.tgz"
}
